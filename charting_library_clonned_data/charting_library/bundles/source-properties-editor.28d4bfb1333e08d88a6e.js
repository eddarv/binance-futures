(window.webpackJsonp=window.webpackJsonp||[]).push([["source-properties-editor"],{"/KDZ":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o("mrSG"),i=o("q1tI"),r=function(e){function t(t){var o=e.call(this,t)||this;return o._handleChange=function(){o.forceUpdate()},o.state={query:window.matchMedia(o.props.rule)},o}return Object(n.c)(t,e),t.prototype.componentDidMount=function(){this._subscribe(this.state.query)},t.prototype.componentDidUpdate=function(e,t){this.state.query!==t.query&&(this._unsubscribe(t.query),this._subscribe(this.state.query))},t.prototype.componentWillUnmount=function(){this._unsubscribe(this.state.query)},t.prototype.render=function(){return this.props.children(this.state.query.matches)},t.getDerivedStateFromProps=function(e,t){return e.rule!==t.query.media?{query:window.matchMedia(e.rule)}:null},t.prototype._subscribe=function(e){e.addListener(this._handleChange)},t.prototype._unsubscribe=function(e){e.removeListener(this._handleChange)},t}(i.PureComponent)},"2mql":function(e,t,o){"use strict";var n=o("TOwV"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return n.isMemo(e)?a:c[e.$$typeof]||i}c[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,o,n){if("string"!=typeof o){if(h){var i=f(o);i&&i!==h&&e(t,i,n)}var a=u(o);d&&(a=a.concat(d(o)));for(var c=s(t),m=s(o),v=0;v<a.length;++v){var b=a[v];if(!(r[b]||n&&n[b]||m&&m[b]||c&&c[b])){var g=p(o,b);try{l(t,b,g)}catch(y){}}}return t}return t}},"9dlw":function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var n=o("mrSG"),i=o("q1tI"),r=o.n(i),a=o("i8i4"),c=o.n(a),s=(o("EsMY"),o("AiMB")),l=o("DTHj"),u=o("X0gx"),d=o("8Rai");function p(e){var t=e.controller,o=e.children,a=e.isOpened,p=e.closeOnClickOutside,f=void 0===p||p,h=e.doNotCloseOn,m=e.onClickOutside,v=e.onClose,b=Object(n.e)(e,["controller","children","isOpened","closeOnClickOutside","doNotCloseOn","onClickOutside","onClose"]),g=Object(i.useContext)(u.a),y=Object(d.a)({handler:function(e){m&&m(e);if(!f)return;if(h&&e.target instanceof Node){var t=c.a.findDOMNode(h);if(t instanceof Node&&t.contains(e.target))return}v()},mouseDown:!0,touchStart:!0});return a?r.a.createElement(s.a,{top:"0",left:"0",right:"0",bottom:"0",pointerEvents:"none"},r.a.createElement("span",{ref:y,style:{pointerEvents:"auto"}},r.a.createElement(l.a,Object(n.a)({},b,{isOpened:a,onClose:v,onScroll:function(t){var o=e.onScroll;o&&o(t);t.stopPropagation()},customCloseDelegate:g,ref:t}),o))):null}},CbZh:function(e,t,o){"use strict";o.r(t);o("YFKU")
;var n=o("q1tI"),i=o.n(n),r=o("i8i4"),a=o("FQhm"),c=o("mrSG"),s=o("Eyy1"),l=(o("bSeV"),o("qFKp")),u=o("Vdly"),d=o.n(u),p=o("ycFu"),f=o("tWVy"),h=o("aDg1");o("17x9");o("wx14"),o("zLVn"),o("2mql"),o("TOwV"),"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;o("ANjH");var m;m=r.unstable_batchedUpdates;var v=o("Iivm"),b=o("H172"),g=o("/KDZ"),y=(o("EsMY"),o("N5tr")),_=o("i/MG"),w=o("8d0Q"),C=o("lpmA");function E(e){var t=e.name,o=e.onRemove,i=e.onClick,r=Object(w.b)(),a=r[0],s=r[1],l=n.useCallback((function(){return i(t)}),[i,t]),u=n.useCallback((function(){o&&o(t)}),[o,t]);return n.createElement("div",Object(c.a)({},s),n.createElement(y.b,{className:C.defaultsButtonItem,isActive:!1,label:t,onClick:l,toolbox:o&&n.createElement(_.a,{hidden:!Modernizr.mobiletouch&&!a,onClick:u})}))}var P=o("HWhk");function O(e){var t=e.model,o=e.source;return i.a.createElement(g.a,{rule:"screen and (max-width: 768px)"},(function(e){return i.a.createElement(b.a,{className:!e&&C.themesButtonText,items:[{value:"defaults",readonly:!0,content:"",selectedContent:e?i.a.createElement(v.a,{className:C.themesButtonIcon,icon:P}):window.t("Template")},{readonly:!0,content:i.a.createElement(E,{onClick:n,name:window.t("Apply Defaults")})}],hideArrowButton:e,value:"defaults"})}));function n(){t.restorePropertiesForSource(o)}}function T(e){return i.a.createElement(O,Object(c.a)({},e))}var S,x,I=o("tmL0"),D=o("CW80"),k=o("vHME"),A=o("3ClC"),j=o("qJq3"),N=o("Ss5c"),B=o("GVHu"),q=o("ybVX"),R=((S={})["Elliott Impulse Wave (12345)Degree"]="normal",S["Elliott Triangle Wave (ABCDE)Degree"]="normal",S["Elliott Triple Combo Wave (WXYXZ)Degree"]="normal",S["Elliott Correction Wave (ABC)Degree"]="normal",S["Elliott Double Combo Wave (WXY)Degree"]="normal",S.BarsPatternMode="normal",S.StudyInputSource="normal",S),M=((x={}).TextText="big",x.AnchoredTextText="big",x.NoteText="big",x.AnchoredNoteText="big",x.CalloutText="big",x.BalloonText="big",x),L=o("Q+1u"),V=o("bvfV");function W(e){return n.createElement(q.a.Provider,{value:M},n.createElement(q.b.Provider,{value:R},e.page&&n.createElement(L.a,{reference:e.pageRef,key:e.tableKey},e.page.definitions.value().map((function(e){return n.createElement(V.a,{key:e.id,definition:e})})))))}var F=o("ttKw"),H=function(e){function t(t){var o=e.call(this,t)||this;o._activePageRef=n.createRef(),o._getActionPageById=function(e){if(e)return o.props.pages.find((function(t){return t.id.toLowerCase()===e.toLowerCase()}))},o._onChangeActivePageDefinitions=function(){o.setState({tableKey:Date.now()},(function(){o._requestResize&&o._requestResize()}))},o._renderFooterLeft=function(){var e=o.props,t=e.source,i=e.model;return Object(D.isLineTool)(t)?n.createElement(T,{source:t,model:i}):n.createElement(g.a,{rule:"screen and (max-width: 419px)"},(function(e){return Object(A.isStudy)(t)&&n.createElement(k.a,{model:i,source:t,mode:e?"compact":"normal"})}))},o._subscribe=function(e){e&&e.definitions.subscribe(o._onChangeActivePageDefinitions)},o._unsubscribe=function(e){
e&&e.definitions.unsubscribe(o._onChangeActivePageDefinitions)},o._getActiveTabSettingsName=function(){var e=o.props.source;return e instanceof j.Series?"properties_dialog.active_tab.chart":e instanceof N.LineDataSource?"properties_dialog.active_tab.drawing":e instanceof B.Study?"properties_dialog.active_tab.study":""},o._handleSelectPage=function(e){var t=o.state.activePageId,n=o._getActionPageById(t),i=o._getActionPageById(e),r=o._getActiveTabSettingsName();t!==e&&(o._unsubscribe(n),r&&d.a.setValue(r,e),o._subscribe(i),o.setState({activePageId:e,tableKey:Date.now()},(function(){o._requestResize&&o._requestResize(),o._focusActivePageFirstTextInput()})))},o._handleScroll=function(){f.a.fire()},o._handleSubmit=function(){o.props.onSubmit(),o._closePopupDialog()},o._closePopupDialog=function(){window.lineToolPropertiesToolbar&&window.lineToolPropertiesToolbar.refresh(),o.props.onClose()};var i,r=o.props.pages;if(o._getActionPageById(o.props.activePageId))i=Object(s.ensureDefined)(o.props.activePageId);else{var a=d.a.getValue(o._getActiveTabSettingsName(),""),c=o._getActionPageById(a);i=c?c.id:r[0].id}return o.state={activePageId:i,tableKey:Date.now()},window.lineToolPropertiesToolbar&&window.lineToolPropertiesToolbar.hide(),o}return Object(c.c)(t,e),t.prototype.componentDidMount=function(){var e=this.state.activePageId,t=this._getActionPageById(e);this._focusActivePageFirstTextInput(),this._subscribe(t)},t.prototype.componentWillUnmount=function(){var e=this.props.activePageId,t=this._getActionPageById(e);clearTimeout(this._timeout),this._unsubscribe(t)},t.prototype.render=function(){var e,t=this.props,o=t.source,i=t.onCancel,r=this.state.activePageId,a=(null===(e=o.properties().title)||void 0===e?void 0:e.value())||o.title();return n.createElement(p.a,{dataName:"source-properties-editor",title:a,isOpened:!0,onSubmit:this._handleSubmit,onCancel:i,onClickOutside:this._handleSubmit,onClose:this._closePopupDialog,footerLeftRenderer:this._renderFooterLeft,render:this._renderChildren(r),submitOnEnterKey:!1})},t.prototype._renderChildren=function(e){var t=this;return function(o){var i=o.requestResize;t._requestResize=i;var r=t.props.pages,a={allIds:r.map((function(e){return e.id})),byId:r.reduce((function(e,t){var o;return Object(c.a)(Object(c.a)({},e),((o={})[t.id]={title:t.title},o))}),{})},s=r.find((function(t){return t.id===e}));return n.createElement(n.Fragment,null,n.createElement(h.a,{activeTabId:e,onSelect:t._handleSelectPage,tabs:a}),n.createElement(I.a,{className:F.scrollable,onScroll:t._handleScroll},n.createElement(W,{page:s,pageRef:t._activePageRef,tableKey:t.state.tableKey})))}},t.prototype._focusActivePageFirstTextInput=function(){if(!l.CheckMobile.any()&&this._activePageRef.current){var e=this._activePageRef.current.querySelector("input[type=text],textarea");e&&(this._timeout=setTimeout((function(){e.focus()}),0))}},t}(n.PureComponent);o.d(t,"SourcePropertiesEditorRenderer",(function(){return K}));var K=function(){function e(e){var t=this;this._container=document.createElement("div"),this._isVisible=!1,
this._timeout=null,this._handleClose=function(){r.unmountComponentAtNode(t._container),t._isVisible=!1,t._onClose&&t._onClose(),t._subscription.unsubscribe(t,t._handleCollectionChanged)},this._handleSubmit=function(){var e=t._source;Object(D.isLineTool)(e)&&e.hasAlert.value()&&setTimeout((function(){e.localAndServerAlertsMismatch&&e.synchronizeAlert(!0)}))},this._handleCancel=function(){t._model.undoToCheckpoint(t._checkpoint)},this._propertyPages=e.propertyPages,this._model=e.model,this._activePageId=e.activePageId,this._onClose=e.onClose,this._source=e.source,this._checkpoint=this._ensureCheckpoint(e.undoCheckPoint),this._subscription=this._model.model().dataSourceCollectionChanged(),this._subscription.subscribe(this,this._handleCollectionChanged)}return e.prototype.hide=function(e){e?this._handleCancel():this._handleSubmit(),this._handleClose()},e.prototype.isVisible=function(){return this._isVisible},e.prototype.focusOnText=function(){},e.prototype.show=function(){r.render(n.createElement(H,{source:this._source,onSubmit:this._handleSubmit,onClose:this._handleClose,onCancel:this._handleCancel,pages:this._propertyPages,model:this._model,activePageId:this._activePageId}),this._container),this._isVisible=!0,a.emit("drawings_settings_dialog",{objectType:"drawing",scriptTitle:this._source.title()})},e.prototype._handleCollectionChanged=function(){var e=this;null===this._timeout&&(this._timeout=setTimeout((function(){e._closeDialogIfSourceIsDeleted(),e._timeout=null})))},e.prototype._closeDialogIfSourceIsDeleted=function(){null===this._model.model().dataSourceForId(this._source.id())&&this._handleClose()},e.prototype._ensureCheckpoint=function(e){return void 0===e&&(e=this._model.createUndoCheckpoint()),e},e}()},N5tr:function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return h}));var n=o("mrSG"),i=o("q1tI"),r=o.n(i),a=o("TSYQ"),c=o("tWVy"),s=o("JWMC"),l=o("QpNh"),u=o("v1bN"),d=u;function p(e){var t=e.reference,o=Object(n.e)(e,["reference"]),i=Object(n.a)(Object(n.a)({},o),{ref:t});return r.a.createElement(e.href?"a":"div",i)}function f(e){e.stopPropagation()}function h(e){var t,o,d,h=e.className,m=e.title,v=e.labelRowClassName,b=e.shortcut,g=e.forceShowShortcuts,y=e.icon,_=e.isActive,w=e.isDisabled,C=e.isHovered,E=e.appearAsDisabled,P=e.label,O=e.link,T=e.showToolboxOnHover,S=e.target,x=e.toolbox,I=e.reference,D=e.onMouseOut,k=e.onMouseOver,A=e.theme,j=void 0===A?u:A,N=Object(l.a)(e),B=Object(i.useRef)(null);return r.a.createElement(p,Object(n.a)({},N,{className:a(h,j.item,y&&j.withIcon,(t={},t[j.isActive]=_,t[j.isDisabled]=w||E,t[j.hovered]=C,t)),title:m,href:O,target:S,reference:function(e){B.current=e,I&&I(e)},onClick:function(t){var o=e.dontClosePopup,n=e.onClick,i=e.onClickArg,r=e.trackEventObject;if(w)return;r&&Object(s.trackEvent)(r.category,r.event,r.label);n&&n(i,t);o||Object(c.b)()},onContextMenu:function(t){var o=e.trackEventObject,n=e.trackRightClick;o&&n&&Object(s.trackEvent)(o.category,o.event,o.label+"_rightClick")},onMouseUp:function(t){
var o=e.trackEventObject,n=e.trackMouseWheelClick;if(1===t.button&&O&&o){var i=o.label;n&&(i+="_mouseWheelClick"),Object(s.trackEvent)(o.category,o.event,i)}},onMouseOver:k,onMouseOut:D}),void 0!==y&&r.a.createElement("div",{className:j.icon,dangerouslySetInnerHTML:{__html:y}}),r.a.createElement("div",{className:a(j.labelRow,v)},r.a.createElement("div",{className:j.label},P)),(void 0!==b||g)&&r.a.createElement("div",{className:j.shortcut},(d=b)&&d.split("+").join(" + ")),void 0!==x&&r.a.createElement("div",{onClick:f,className:a(j.toolbox,(o={},o[j.showOnHover]=T,o))},x))}},lpmA:function(e,t,o){e.exports={themesButtonText:"themesButtonText-2XRZOVS_",themesButtonIcon:"themesButtonIcon-37H2TIZ0",defaultsButtonText:"defaultsButtonText-3NI8VPPT",defaultsButtonItem:"defaultsButtonItem-3mtq1Y8x"}},ttKw:function(e,t,o){e.exports={scrollable:"scrollable-1DxdJw53"}},v1bN:function(e,t,o){e.exports={"tablet-small-breakpoint":"screen and (max-width: 419px)",item:"item-2xPVYue0",hovered:"hovered-1uf45E05",isDisabled:"isDisabled-1wLqKupj",isActive:"isActive-2j-GhQs_",shortcut:"shortcut-30pveiCO",toolbox:"toolbox-3ulPxfe-",withIcon:"withIcon-1xBjf-oB",icon:"icon-2Qm7YIcz",labelRow:"labelRow-3Q0rdE8-",label:"label-3Xqxy756",showOnHover:"showOnHover-1q6ySzZc"}},"x0D+":function(e,t,o){var n,i,r;i=[t],void 0===(r="function"==typeof(n=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var o=!1;if("undefined"!=typeof window){var n={get passive(){o=!0}};window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}var i="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),r=[],a=!1,c=-1,s=void 0,l=void 0,u=function(e){return r.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},d=function(e){var t=e||window.event;return!!u(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)},p=function(){setTimeout((function(){void 0!==l&&(document.body.style.paddingRight=l,l=void 0),void 0!==s&&(document.body.style.overflow=s,s=void 0)}))};e.disableBodyScroll=function(e,n){if(i){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!r.some((function(t){return t.targetElement===e}))){var p={targetElement:e,options:n||{}};r=[].concat(t(r),[p]),e.ontouchstart=function(e){1===e.targetTouches.length&&(c=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var o,n,i,r;1===t.targetTouches.length&&(n=e,r=(o=t).targetTouches[0].clientY-c,!u(o.target)&&(n&&0===n.scrollTop&&0<r||(i=n)&&i.scrollHeight-i.scrollTop<=i.clientHeight&&r<0?d(o):o.stopPropagation()))},a||(document.addEventListener("touchmove",d,o?{passive:!1}:void 0),a=!0)}}else{h=n,setTimeout((function(){if(void 0===l){var e=!!h&&!0===h.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth
;e&&0<t&&(l=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===s&&(s=document.body.style.overflow,document.body.style.overflow="hidden")}));var f={targetElement:e,options:n||{}};r=[].concat(t(r),[f])}var h},e.clearAllBodyScrollLocks=function(){i?(r.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),a&&(document.removeEventListener("touchmove",d,o?{passive:!1}:void 0),a=!1),r=[],c=-1):(p(),r=[])},e.enableBodyScroll=function(e){if(i){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,r=r.filter((function(t){return t.targetElement!==e})),a&&0===r.length&&(document.removeEventListener("touchmove",d,o?{passive:!1}:void 0),a=!1)}else 1===r.length&&r[0].targetElement===e?(p(),r=[]):r=r.filter((function(t){return t.targetElement!==e}))}})?n.apply(t,i):n)||(e.exports=r)}}]);